# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞—É–¥–∏—Ç Beauty Platform

**–î–∞—Ç–∞:** 20.09.2025
**–ê—É–¥–∏—Ç–æ—Ä:** Senior Software Architect (Gemini)

---

## –†–∞–∑–¥–µ–ª 1: API Endpoints

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
1.  **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º:** –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç —Å–≤–æ—é –∑–æ–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
2.  **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTP-–≥–ª–∞–≥–æ–ª–æ–≤:** –ì–ª–∞–≥–æ–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –≤–µ—Ä–Ω–æ (GET, POST, PUT, DELETE).
3.  **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –∏–∑–æ–ª—è—Ü–∏—è –ø–æ Tenant ID:** `tenantId` –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ JWT, –∞ –Ω–µ –∏–∑ URL.
4.  **–ü—Ä–∞–≥–º–∞—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ö–æ—Ä–æ—à–∏–π –≥–∏–±—Ä–∏–¥ REST –∏ RPC-–ø–æ–¥–æ–±–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ (`/me`, `/count`).
5.  **–í—ã–¥–µ–ª–µ–Ω–Ω—ã–µ Health Checks:** –£ –∫–ª—é—á–µ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –µ—Å—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/health` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1.  **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ CRM API:** –ù–∞–ª–∏—á–∏–µ `appointments.ts` –∏ `simple-appointments.ts` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–æ–∑–º–æ–∂–Ω—ã–π –ª–µ–≥–∞—Å–∏-–∫–æ–¥.
2.  **–ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ API:** –ú–∞—Ä—à—Ä—É—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–µ—Ñ–∏–∫—Å `/api`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ API Gateway.

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1.  **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ CRM API:** –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä–µ–≤–∏–∑–∏—é `simple-appointments.ts` –∏, –≤–µ—Ä–æ—è—Ç–Ω–æ, —É–¥–∞–ª–∏—Ç—å –µ–≥–æ, –æ–±—ä–µ–¥–∏–Ω–∏–≤ –ª–æ–≥–∏–∫—É.
2.  **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤:** –£–±—Ä–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å `/api` –∏–∑ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, –æ—Å—Ç–∞–≤–∏–≤ –µ–≥–æ —Ç–æ–ª—å–∫–æ –Ω–∞ API Gateway.

---

## –†–∞–∑–¥–µ–ª 2: Middleware

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
1.  **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:** –ü–∞–∫–µ—Ç `packages/shared-middleware` ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä DRY-–ø—Ä–∏–Ω—Ü–∏–ø–∞.
2.  **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ Tenant ID:** `tenantId` –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è **–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∏–∑ JWT-—Ç–æ–∫–µ–Ω–∞**.
3.  **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ Raw Body –¥–ª—è Stripe:** `express.raw()` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ** –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É `/webhooks/stripe`.
4.  **–ù–∞–¥–µ–∂–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ CORS:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤.
5.  **–ë–∞–∑–æ–≤–∞—è –∑–∞—â–∏—Ç–∞ —Å –ø–æ–º–æ—â—å—é Helmet:** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `helmet()`.

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1.  **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π Rate Limiting:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π, —Å—Ç—Ä–æ–≥–∏–π rate limiter –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`/login`, `/mfa/verify`), —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —Ä–∏—Å–∫ brute-force –∞—Ç–∞–∫.

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1.  **–í–Ω–µ–¥—Ä–∏—Ç—å —Å—Ç—Ä–æ–≥–∏–π Rate Limiting:** –í `auth-service` –ø—Ä–∏–º–µ–Ω–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π `rate-limit` (5-10 –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ 15 –º–∏–Ω—É—Ç) –∫ –º–∞—Ä—à—Ä—É—Ç–∞–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

---

## –†–∞–∑–¥–µ–ª 3: Prisma –°—Ö–µ–º—ã

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
1.  **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—Ö–µ–º –ø–æ –¥–æ–º–µ–Ω–∞–º:** –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã –¥–ª—è `core`, `notification` –∏ `payment` –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –Ω–∏–∑–∫—É—é —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å.
2.  **–ù–∞–¥–µ–∂–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –ø–æ Tenant ID:** –í—Å–µ –º–æ–¥–µ–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç `tenantId` –∏ `@@index([tenantId])`.
3.  **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Audit Trail:** –ü–æ—á—Ç–∏ –≤—Å–µ –º–æ–¥–µ–ª–∏ –∏–º–µ—é—Ç `createdAt` –∏ `updatedAt`.
4.  **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Enums:** –í –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö —Å—Ç–∞—Ç—É—Å—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ `enum`.

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1.  **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Soft Deletes:** –§–∏–∑–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ `Client`, `Appointment`, `User` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –∏—Å—Ç–æ—Ä–∏–∏.
2.  **–ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Enums –≤ Core-—Å—Ö–µ–º–µ:** –í —Å—Ç–∞—Ä–æ–π —Å—Ö–µ–º–µ —Å—Ç–∞—Ç—É—Å—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ `String`.
3.  **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è:** –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ "–æ—Å–∏—Ä–æ—Ç–µ–≤—à–∏–º" –∑–∞–ø–∏—Å—è–º.

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1.  **–í–Ω–µ–¥—Ä–∏—Ç—å Soft Deletes:** –î–æ–±–∞–≤–∏—Ç—å `deletedAt DateTime?` –≤ –∫–ª—é—á–µ–≤—ã–µ –º–æ–¥–µ–ª–∏.
2.  **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ Core-—Å—Ö–µ–º–µ –Ω–∞ Enums:** –ó–∞–º–µ–Ω–∏—Ç—å `String` —Å—Ç–∞—Ç—É—Å—ã –Ω–∞ `enum`.
3.  **–ü—Ä–æ–¥—É–º–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é `onDelete`:** –î–æ–±–∞–≤–∏—Ç—å `onDelete: Cascade` –¥–ª—è –∑–∞–≤–∏—Å–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

## –†–∞–∑–¥–µ–ª 4: UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
1.  **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è (Enterprise-level):** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Zod` –∏ `z.infer`.
2.  **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º API:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `react-query`.
3.  **–ù–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π UI:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ `isLoading` (—Å–∫–µ–ª–µ—Ç–æ–Ω—ã) –∏ `error` (–∞–ª–µ—Ä—Ç—ã).
4.  **–ü—Ä–æ–¥—É–º–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ "—É–º–Ω—ã–µ" –∏ "–≥–ª—É–ø—ã–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1.  **–û–ø–µ—Ä–µ–∂–∞—é—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è UI:** `NotificationBell` –≥–æ—Ç–æ–≤, –Ω–æ –±—ç–∫–µ–Ω–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π ‚Äî –Ω–µ—Ç.

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1.  **–°–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å mock-—ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è UI.

---

## –†–∞–∑–¥–µ–ª 5: CI/CD Pipeline

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
1.  **–ù–∞–ª–∏—á–∏–µ –±–∞–∑–æ–≤–æ–≥–æ CI-–ø–∞–π–ø–ª–∞–π–Ω–∞:** `.github/workflows/ci.yml` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é `lint` –∏ `build`.

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1.  **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ü–æ–ª–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –°–∫—Ä–∏–ø—Ç `test` —è–≤–ª—è–µ—Ç—Å—è –∑–∞–≥–ª—É—à–∫–æ–π.
2.  **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ (Docker):** –£—Å–ª–æ–∂–Ω—è–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥.
3.  **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –ù–µ—Ç —à–∞–≥–æ–≤ —Ç–∏–ø–∞ `npm audit` –∏–ª–∏ SAST.
4.  **–†—É–¥–∏–º–µ–Ω—Ç–∞—Ä–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:** –ü–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç —Ä—É—á–Ω–æ–π –∏–ª–∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–µ–ø–ª–æ–π.

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1.  **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ù–∞—á–∞—Ç—å —Å unit-—Ç–µ—Å—Ç–æ–≤ –Ω–∞ `vitest`.
2.  **Docker-–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):** –°–æ–∑–¥–∞—Ç—å `Dockerfile` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ `docker-compose.yml`.
3.  **–£—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞—Ç—å CI/CD:** –î–æ–±–∞–≤–∏—Ç—å —à–∞–≥–∏ –¥–ª—è Security Scan –∏ –¥–µ–ø–ª–æ—è Docker-–æ–±—Ä–∞–∑–æ–≤.

---

## –†–∞–∑–¥–µ–ª 6: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
1.  **–ù–∞–ª–∏—á–∏–µ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:** –ï—Å—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π `README.md` –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Å–∫—Ä–∏–ø—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1.  **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é:** –ù–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ —á–∏—Å—Ç—ã–π —Å–µ—Ä–≤–µ—Ä.
2.  **–ù–µ–ø–æ–ª–Ω—ã–µ `.env.example`:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤–∞–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (Stripe, SMTP).
3.  **–£—Å—Ç–∞—Ä–µ–≤—à–∞—è ERD:** –î–∏–∞–≥—Ä–∞–º–º–∞ –ë–î –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω–∞.
4.  **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:** `README.md` –Ω–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ë–î –∏ –∑–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞.

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1.  **–°–æ–∑–¥–∞—Ç—å `DEPLOYMENT.md`:** –ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é.
2.  **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é ERD:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `prisma-erd-generator`.
3.  **–û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç—å `.env.example`:** –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.
4.  **–†–∞—Å—à–∏—Ä–∏—Ç—å `README.md`:** –î–æ–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–∑–¥–µ–ª "Local Development".

---

## –†–∞–∑–¥–µ–ª 7: Restore-—Å–∏—Å—Ç–µ–º–∞

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
1.  **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä:** `smart-restore-manager.sh` ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
2.  **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ JSON-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –§—É–Ω–∫—Ü–∏—è `log_json` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–µ—Å—Ç–∏ –º–∞—à–∏–Ω–æ-—á–∏—Ç–∞–µ–º—ã–µ –ª–æ–≥–∏.
3.  **–ú–µ—Ö–∞–Ω–∏–∑–º "Circuit Breaker":** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤.
4.  **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å `SIGTERM` -> `SIGKILL`.

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1.  **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï: –ñ–µ—Å—Ç–∫–æ –ø—Ä–æ–ø–∏—Å–∞–Ω–Ω—ã–µ –ø—É—Ç–∏ –∏ –ø–æ—Ä—Ç—ã:** –í—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞—à–∏—Ç–∞ –≤ bash-—Å–∫—Ä–∏–ø—Ç—ã, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –Ω–µ–ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ–π.
2.  **–£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø—É—Ç–∏ –≤ `start-dev.sh`:** –°–∫—Ä–∏–ø—Ç –Ω–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–µ–Ω –∏–∑-–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –ø—É—Ç–µ–π.
3.  **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–æ–≥–∏–∫–∏ –±—ç–∫–∞–ø–æ–≤ –∏ –æ—Ç–∫–∞—Ç–∞:** –ù–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –¥–ª—è `pg_dump` –∏–ª–∏ –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏.
4.  **–ù–µ–Ω–∞–¥–µ–∂–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (`sleep`) –≤ `start-dev.sh`:** –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –æ—à–∏–±–æ—á–Ω—ã–º —Å–±–æ—è–º.

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1.  **–í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `restore.config.json`:** –°–¥–µ–ª–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π.
2.  **–î–æ–±–∞–≤–∏—Ç—å –≤—ã–≤–æ–¥ –≤ JSON-—Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è `status`:** –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å UI.
3.  **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –±—ç–∫–∞–ø–æ–≤ –∏ —Ä–æ—Ç–∞—Ü–∏–∏:** –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã `backup` –∏ `rotate-backups`.
4.  **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏ —É–ª—É—á—à–∏—Ç—å `start-dev.sh`:** –û–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å `sleep` –Ω–∞ –Ω–∞–¥–µ–∂–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.
