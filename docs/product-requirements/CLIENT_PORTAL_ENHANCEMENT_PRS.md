# Спецификация Требований: Улучшение Клиентского Портала

**Версия:** 1.1 (Русская редакция)
**Дата:** 15.09.2025
**Автор:** Gemini (Product Manager)

---

## 1. Обзор

Этот документ описывает требования к продукту для улучшения Клиентского Портала (`client.beauty.designcorp.eu`). Цель — превратить его из базовой страницы в функциональное, персонализированное пространство для клиентов салона, где они могут управлять своими записями и предпочтениями.

## 2. Пользовательские Истории (User Stories)

- **Как Клиент Салона,** я хочу видеть список моих предстоящих и прошедших записей, чтобы отслеживать свои визиты.
- **Как Клиент Салона,** я хочу иметь возможность легко записаться на новый прием прямо из своего портала.
- **Как Клиент Салона,** я хочу иметь возможность отменить предстоящую запись (в рамках правил отмены салона).
- **Как Клиент Салона,** я хочу управлять своей контактной информацией, чтобы у салона всегда были актуальные данные.
- **Как Клиент Салона,** я хочу, чтобы портал был идеально адаптирован для мобильного телефона, чтобы я мог управлять своими записями на ходу.
- **Как Клиент Салона,** я хочу видеть детали каждой записи, включая услугу, мастера, дату/время и стоимость.

## 3. Функциональные Требования

### 3.1. Страница "Мои Записи"
-   **Предстоящие записи:** Список или карточки всех будущих визитов, отсортированные по дате (ближайшие сначала).
    -   Каждый элемент должен отображать: Название Услуги, Имя Мастера, Дату, Время.
    -   У каждого элемента должна быть кнопка "Отменить", которая неактивна, если до записи осталось меньше времени, чем разрешено правилами салона (например, менее 24 часов).
-   **Прошедшие записи:** Список или карточки всех прошлых визитов, отсортированные по дате (самые свежие сначала).
    -   Каждый элемент должен отображать: Название Услуги, Имя Мастера, Дату.
    -   У каждого элемента может быть кнопка "Записаться снова" для быстрого повторного бронирования той же услуги.

### 3.2. Процесс Новой Записи
-   На портале должна быть заметная кнопка "Записаться".
-   Эта кнопка должна запускать основной процесс бронирования, который должен быть бесшовно интегрирован в портал.
-   В идеале, процесс бронирования должен предварительно выбирать текущий салон, если клиент уже его посещал.

### 3.3. Страница "Мой Профиль"
-   Простая форма, позволяющая клиенту просматривать и редактировать свою личную информацию:
    -   `Имя` (Только для чтения, изменение через поддержку)
    -   `Фамилия` (Только для чтения, изменение через поддержку)
    -   `Номер телефона` (Редактируемое поле)
    -   `Email` (Только для чтения)

## 4. Нефункциональные Требования

-   **Mobile-First Дизайн:** Весь портал должен быть спроектирован с подходом "mobile-first". Все функции должны быть легко доступны и удобны для использования на экране стандартного смартфона.
-   **Производительность:** Портал должен загружаться быстро, особенно список записей. API-запросы должны быть оптимизированы.
-   **Безопасность:** Все пользовательские данные должны запрашиваться только после надлежащей аутентификации. Клиент должен видеть только свои собственные записи.

## 5. Точки Интеграции

-   **Auth Service:** Портал должен использовать существующую JWT-аутентификацию для защиты сессии клиента.
-   **Booking Service / CRM API:** Потребуются новые API эндпоинты:
    -   `GET /api/clients/me/appointments` (для получения предстоящих и прошедших записей залогиненного клиента).
    -   `POST /api/appointments/{id}/cancel` (для отмены записи).
    -   `PUT /api/clients/me/profile` (для обновления контактной информации).

## 6. Что не входит в версию 1.0

-   Просмотр/оставление отзывов о прошлых визитах.
-   Онлайн-оплата записей.
-   Управление сохраненными банковскими картами.
-   Сложные настройки профиля (например, предпочтения по уведомлениям).