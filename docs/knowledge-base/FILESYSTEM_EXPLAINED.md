# 🗂️ BEAUTY PLATFORM - ФАЙЛОВАЯ СИСТЕМА ОБЪЯСНЕНИЕ

## 📁 **Как устроена Linux файловая система:**

```
/ (корень системы)
├── /root/          🏠 Домашняя папка администратора (приватная)
├── /var/www/       🌐 Папка веб-сервера (публичная)
├── /etc/           ⚙️ Конфиги системы
├── /home/          👥 Домашние папки обычных пользователей
├── /tmp/           🗑️ Временные файлы
└── /usr/           📦 Установленные программы
```

## 🎯 **ЧТО ГДЕ ДОЛЖНО БЫТЬ:**

### 🏠 **/root/** - Разработка и администрирование
```bash
/root/
├── beauty-platform/        # 🆕 НОВАЯ система (исходники + разработка)
│   ├── apps/               # React приложения (исходники)
│   ├── services/           # API сервисы (исходники)  
│   ├── node_modules/       # Зависимости для разработки
│   └── .env                # Конфиги разработки
│
├── beauty/                 # 🏠 СТАРАЯ система (исходники + работает)
│   ├── apps/               # Исходники старых приложений
│   └── node_modules/       # Зависимости
│
├── BACKUPS/                # 💾 Все backup'ы
├── SCRIPTS/                # 🔧 Скрипты администратора
├── polandworkconsult/      # 🌐 Другие проекты
└── CLAUDE.md               # 📝 Документация проекта
```

### 🌐 **/var/www/** - Production веб-файлы  
```bash
/var/www/
├── salon-crm/              # 📱 Скомпилированная CRM (для nginx)
│   ├── index.html          # Статические файлы
│   ├── assets/             # CSS, JS, картинки
│   └── [НЕТ node_modules!] # Только готовые файлы
│
├── designcorp/             # 🌐 Главный сайт компании
├── hub/                    # 🌐 Hub проекты
├── admin/                  # 🎯 Админка DesignCorp (не наша)
└── html/                   # 📄 Статические HTML страницы
```

## 🔄 **КАК ЭТО РАБОТАЕТ:**

### **1. Разработка (в /root):**
```bash
# Разрабатываем в /root/beauty-platform/
cd /root/beauty-platform/apps/salon-crm/
npm run dev  # Запуск на localhost:6001 для разработки
```

### **2. Сборка для production:**
```bash
cd /root/beauty-platform/apps/salon-crm/
npm run build  # Создает папку dist/ со статическими файлами
```

### **3. Деплой в production:**
```bash
# Копируем готовые файлы в /var/www/
cp -r /root/beauty-platform/apps/salon-crm/dist/* /var/www/salon-crm/
```

### **4. Nginx отдает файлы:**
```nginx
# /etc/nginx/sites-available/salon-crm
server {
    root /var/www/salon-crm;  # nginx берет файлы отсюда!
    # ...
}
```

## 🎯 **НАША ТЕКУЩАЯ СИТУАЦИЯ:**

### **✅ Правильно размещено:**
```bash
/root/beauty-platform/      # Исходники новой системы ✅
/root/beauty/               # Исходники старой системы ✅
/root/BACKUPS/              # Backup'ы ✅
/root/SCRIPTS/              # Скрипты администратора ✅
/var/www/salon-crm/         # Статика для nginx ✅
/var/www/designcorp/        # Production сайт ✅
```

### **🧹 Уже удалили (было неправильно):**
```bash
/var/www/crm/               # ❌ Исходники в production папке
/var/www/beauty/            # ❌ Дубль исходников
```

## 💡 **ПРОСТОЕ ПРАВИЛО:**

### **🏠 /root/ = "Кухня повара"**
- Где готовишь код
- Где эксперименты
- Где личные вещи разработчика
- Недоступно через веб

### **🌐 /var/www/ = "Ресторан для клиентов"** 
- Где подаешь готовое блюдо
- Только красивые, готовые файлы
- Доступно через nginx/веб
- Без "кухонной утвари" (node_modules, .env)

## 🚀 **WORKFLOW РАЗРАБОТКИ:**

```mermaid
1. Пишем код в /root/beauty-platform/
       ↓
2. Тестируем на localhost (PM2 + порты 6000+)
       ↓  
3. npm run build (создаем готовые файлы)
       ↓
4. Копируем в /var/www/ для production
       ↓
5. nginx отдает клиентам готовые файлы
```

## 🎉 **ТЕПЕРЬ ПОНЯТНО?**

- **🏠 /root/** = твой рабочий стол + разработка
- **🌐 /var/www/** = витрина магазина для клиентов
- **PM2** = запускает серверы (API) из /root/ на разных портах  
- **nginx** = отдает файлы из /var/www/ + проксирует к PM2

**Наша система сейчас правильно организована!** 👍