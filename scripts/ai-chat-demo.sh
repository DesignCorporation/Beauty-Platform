#!/bin/bash

# AI Chat Demo - –°–∏–º—É–ª—è—Ü–∏—è –æ–±—â–µ–Ω–∏—è Claude + Gemini
# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö API –∫–ª—é—á–µ–π

echo -e "\033[1;36mü§ñ AI Chat Bridge Demo - Beauty Platform\033[0m"
echo -e "\033[1;36m=======================================\033[0m"
echo ""
echo -e "\033[1;33m‚ö° –ó–∞–ø—É—Å–∫–∞–µ–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É Claude –∏ Gemini...\033[0m"
echo ""

# –°–æ–∑–¥–∞–µ–º –ª–æ–≥–∏
LOG_FILE="/root/beauty-platform/logs/ai-chat-demo.log"
CONV_FILE="/root/beauty-platform/logs/ai-conversation-demo.json"

# –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
show_message() {
    local timestamp=$(date '+%H:%M:%S')
    local sender="$1"
    local message="$2"
    local color="$3"
    
    echo -e "\n\033[${color}m[${timestamp}] ü§ñ ${sender}:\033[0m"
    echo -e "\033[${color}m${message}\033[0m"
    echo -e "\033[90m" && printf '%.0s‚îÄ' {1..80} && echo -e "\033[0m"
    
    # –õ–æ–≥–∏—Ä—É–µ–º –≤ —Ñ–∞–π–ª
    echo "[${timestamp}] ${sender}: ${message}" >> "$LOG_FILE"
    
    sleep 2
}

# –î–µ–º–æ-—Ä–∞–∑–≥–æ–≤–æ—Ä
echo -e "\033[1;35müé≠ –ù–∞—á–∏–Ω–∞–µ–º –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –æ–±—â–µ–Ω–∏—è AI...\033[0m"

show_message "Claude" "–ü—Ä–∏–≤–µ—Ç, Gemini! üëã –î–∞–≤–∞–π –æ–±—Å—É–¥–∏–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Beauty Platform. –ß—Ç–æ –¥—É–º–∞–µ—à—å –æ –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤?" "1;34"

show_message "Gemini" "–ü—Ä–∏–≤–µ—Ç, Claude! üöÄ –û—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è! –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è Beauty Platform. –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ Auth Service (6021), CRM API (6022) –∏ Admin Panel (6002). –ö–∞–∫ –æ–±—Å—Ç–æ—è—Ç –¥–µ–ª–∞ —Å tenant isolation?" "1;33"

show_message "Claude" "Tenant isolation —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ! üõ°Ô∏è –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º tenantPrisma(tenantId) –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î. –ö–∞–∂–¥—ã–π —Å–∞–ª–æ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω. –£ –Ω–∞—Å —É–∂–µ 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∞–ª–æ–Ω–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö. –ê —á—Ç–æ –Ω–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ API Gateway?" "1;34"

show_message "Gemini" "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å API Gateway –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç! üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ response times. –ù–æ —è –¥—É–º–∞—é, —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤. Redis integration –º–æ–≥ –±—ã —É—Å–∫–æ—Ä–∏—Ç—å CRM –≤ 2-3 —Ä–∞–∑–∞. –°–æ–≥–ª–∞—Å–µ–Ω?" "1;33"

show_message "Claude" "–ê–±—Å–æ–ª—é—Ç–Ω–æ —Å–æ–≥–ª–∞—Å–µ–Ω! üéØ Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è - –æ—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è. –û—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∑–∞–ø–∏—Å–µ–π –∏ —Å–ø–∏—Å–∫–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤. –ú–æ–∂–µ–º —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç—å GraphQL endpoint –¥–ª—è –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞. VS Code Server —Ç–æ–∂–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å?" "1;34"

show_message "Gemini" "VS Code Server —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —á–∞—Å—ã! ‚ö° Systemd service —Å auto-restart –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–¥–µ–∞–ª—å–Ω–æ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–æ–ª—å—à–µ –Ω–µ –ø–æ—Ç–µ—Ä—è–µ—Ç —Å–µ—Å—Å–∏–∏ —Å —Ç–æ–±–æ–π. –ê keep-alive —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ cron –∫–∞–∂–¥—ã–µ 5 —á–∞—Å–æ–≤ - –≥–µ–Ω–∏–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–π Anthropic!" "1;33"

show_message "Claude" "–°–ø–∞—Å–∏–±–æ! üòä –ö—Å—Ç–∞—Ç–∏, –∞ —á—Ç–æ –¥—É–º–∞–µ—à—å –æ —Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞—Ö? –ù—É–∂–Ω–æ –¥–æ–¥–µ–ª–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –≤ CRM, –¥–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞–º–∏ –∏ —É—Å–ª—É–≥–∞–º–∏. –ü–æ—Ç–æ–º –º–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ billing —Å–∏—Å—Ç–µ–º–µ –¥–ª—è ‚Ç¨50/‚Ç¨70 —Ç–∞—Ä–∏—Ñ–æ–≤." "1;34"

show_message "Gemini" "–ü–ª–∞–Ω –∑–≤—É—á–∏—Ç –æ—Ç–ª–∏—á–Ω–æ! üéâ –ü—Ä–µ–¥–ª–∞–≥–∞—é —Ç–∞–∫—É—é –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å: 1) API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π (POST /api/appointments), 2) –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞–º–∏ —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏, 3) CRUD –¥–ª—è —É—Å–ª—É–≥, 4) Billing integration. –≠—Ç–æ MVP –¥–ª—è –∑–∞–ø—É—Å–∫–∞!" "1;33"

echo ""
echo -e "\033[1;32m‚úÖ –î–µ–º–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –†–∞–∑–≥–æ–≤–æ—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –ª–æ–≥–∞—Ö.\033[0m"
echo ""
echo -e "\033[1;37müìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–µ–º–æ:\033[0m"
echo -e "   üß† Claude: 4 —Å–æ–æ–±—â–µ–Ω–∏—è"
echo -e "   üíé Gemini: 4 —Å–æ–æ–±—â–µ–Ω–∏—è"
echo -e "   üìù –û–±—â–∏–µ —Ç–µ–º—ã: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è"
echo ""
echo -e "\033[1;37müìÅ –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã:\033[0m"
echo -e "   üìÑ ${LOG_FILE}"
echo -e "   üìä ${CONV_FILE}"
echo ""
echo -e "\033[1;36müéØ –î–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö API –∫–ª—é—á–µ–π:\033[0m"
echo -e "   export CLAUDE_API_KEY='your-key-here'"
echo -e "   export GEMINI_API_KEY='your-key-here'" 
echo -e "   /root/beauty-platform/scripts/start-ai-chat.sh"